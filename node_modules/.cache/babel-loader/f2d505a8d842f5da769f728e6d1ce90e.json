{"ast":null,"code":"var _jsxFileName = \"D:\\\\MIT Academy of Engineering\\\\Major Project\\\\Major_Project_Code\\\\supply-chain-dev\\\\src\\\\Components\\\\Cards\\\\FarmerCard.js\",\n  _s = $RefreshSig$();\nimport { useContext, useState, useEffect } from \"react\";\nimport { AuthContext } from \"../../Services/Contexts/AuthContext\";\nimport { ContractContext } from \"../../Services/Contexts/ContractContext\";\nimport Toast from '../Toast';\nimport '../../Assests/Styles/card.css';\nimport farmer_default from '../../Assests/Images/farmer_default.jpg';\nimport { fetchFarmer } from \"../../Services/Utils/stakeholder\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FarmerCard = _ref => {\n  _s();\n  let {\n    id,\n    farmerObject\n  } = _ref;\n  const {\n    authState\n  } = useContext(AuthContext);\n  const {\n    contractState\n  } = useContext(ContractContext);\n  const role = authState.stakeholder.role;\n  const [farmer, setFarmer] = useState({\n    id: \"00000\",\n    name: \"\",\n    location: \"\",\n    rawProducts: []\n  });\n  useEffect(() => {\n    if (farmerObject) {\n      setFarmer(farmerObject);\n    } else if (contractState.farmerContract) {\n      (async () => {\n        setFarmer(await fetchFarmer(authState.address, contractState.farmerContract, id));\n      })();\n    }\n  }, [farmerObject]);\n  const verify = async () => {\n    try {\n      await contractState.farmerContract.methods.verify(id).send({\n        from: authState.address\n      });\n      setFarmer(farmer => {\n        return {\n          ...farmer,\n          isVerified: true\n        };\n      });\n      Toast(\"success\", \"Farmer verified successfully\");\n    } catch (e) {\n      Toast(\"error\", e.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-12 col-lg-6 my-1\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row d-flex justify-content-around align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-4\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: farmer_default,\n          width: \"100%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"card-key\",\n          children: \"Id: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"card-value\",\n          children: farmer.formattedAddress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"card-key\",\n          children: \"Name: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"card-value\",\n          children: farmer.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"card-key\",\n          children: \"Location: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"card-value\",\n          children: farmer.location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"card-key\",\n          children: \"Raw Products: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), farmer.rawProducts.map(rawProduct => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"card-value\",\n          children: rawProduct + \", \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"card-key\",\n            children: \" Verification: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), farmer.isVerified ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge bg-success\",\n              children: \"Verified\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge bg-warning\",\n              children: \"Not Verified\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), role === \"admin\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge bg-dark mx-1\",\n              type: \"button\",\n              onClick: verify,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-certificate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 21\n              }, this), \"Verify\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(FarmerCard, \"6yE+iLMOi0KHvNtA/7FzTTo0p4A=\");\n_c = FarmerCard;\nexport default FarmerCard;\nvar _c;\n$RefreshReg$(_c, \"FarmerCard\");","map":{"version":3,"names":["useContext","useState","useEffect","AuthContext","ContractContext","Toast","farmer_default","fetchFarmer","jsxDEV","_jsxDEV","FarmerCard","_ref","_s","id","farmerObject","authState","contractState","role","stakeholder","farmer","setFarmer","name","location","rawProducts","farmerContract","address","verify","methods","send","from","isVerified","e","message","className","children","src","width","fileName","_jsxFileName","lineNumber","columnNumber","formattedAddress","map","rawProduct","type","onClick","class","_c","$RefreshReg$"],"sources":["D:/MIT Academy of Engineering/Major Project/Major_Project_Code/supply-chain-dev/src/Components/Cards/FarmerCard.js"],"sourcesContent":["import { useContext, useState, useEffect } from \"react\";\n\nimport { AuthContext } from \"../../Services/Contexts/AuthContext\";\nimport { ContractContext } from \"../../Services/Contexts/ContractContext\";\nimport Toast from '../Toast';\nimport '../../Assests/Styles/card.css';\nimport farmer_default from '../../Assests/Images/farmer_default.jpg';\nimport { fetchFarmer } from \"../../Services/Utils/stakeholder\";\n\nconst FarmerCard = ({id, farmerObject}) => {\n  const {authState} = useContext(AuthContext);\n  const {contractState} = useContext(ContractContext);\n  const role = authState.stakeholder.role;\n  const [farmer, setFarmer] = useState({\n    id: \"00000\",\n    name: \"\",\n    location: \"\",\n    rawProducts: [],\n  });\n\n  useEffect(() => {\n    if(farmerObject){\n      setFarmer(farmerObject);\n    }\n    else if(contractState.farmerContract){\n      (async() => {\n        setFarmer(await fetchFarmer(authState.address, contractState.farmerContract, id));\n      })();\n    }\n  }, [farmerObject])\n\n  const verify = async () => {\n    try{\n      await contractState.farmerContract.methods.verify(id).send({from: authState.address});\n      setFarmer(farmer => {\n        return {\n          ...farmer,\n          isVerified: true\n        }\n      })\n      Toast(\"success\", \"Farmer verified successfully\");\n    } catch(e){\n      Toast(\"error\", e.message);\n    }\n  }\n\n  return (\n    <div className=\"col-12 col-lg-6 my-1\">\n      <div className=\"row d-flex justify-content-around align-items-center\">\n        <div className=\"col-12 col-md-4\">\n          <img \n            src={farmer_default}\n            width=\"100%\"\n          />\n        </div>\n        <div className=\"col-12 col-md-8\">\n          <span className=\"card-key\">Id: </span>\n          <span className=\"card-value\">{farmer.formattedAddress}</span>\n          <br/>\n          <span className=\"card-key\">Name: </span>\n          <span className=\"card-value\">{farmer.name}</span>\n          <br/>\n          <span className=\"card-key\">Location: </span>\n          <span className=\"card-value\">{farmer.location}</span>\n          <br/>\n          <span className=\"card-key\">Raw Products: </span>\n          {farmer.rawProducts.map(rawProduct => (\n            <span className=\"card-value\">{rawProduct+\", \"}</span>\n          ))}\n          <br/>\n          <span className=\"\">\n            <span className=\"card-key\"> Verification: </span>\n            {farmer.isVerified?\n              <span className=\"\">\n                <span className=\"badge bg-success\">Verified</span>\n              </span>\n            :\n              <span className=\"\">\n                <span className=\"badge bg-warning\">Not Verified</span>\n                {role === \"admin\"?\n                  <span \n                    className=\"badge bg-dark mx-1\" \n                    type=\"button\"\n                    onClick={verify}\n                  >\n                    <i class=\"fa fa-certificate\"/>\n                    Verify\n                  </span>\n                : \"\" }\n              </span>\n            }\n          </span>\n        </div>\n      </div>\n      <hr/>\n    </div>\n  )\n}\nexport default FarmerCard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}